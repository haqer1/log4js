!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).log4js={})}(this,function(e){"use strict";var a=/%[sdj%]/g;function s(e){if(!E(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(O(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,i=n.length,o=String(e).replace(a,function(e){if("%%"===e)return"%";if(i<=r)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),l=n[r];r<i;l=n[++r])v(l)||!u(l)?o+=" "+l:o+=" "+O(l);return o}function O(e,t){var r={seen:[],stylize:i};return 3<=arguments.length&&(r.depth=arguments[2]),4<=arguments.length&&(r.colors=arguments[3]),g(t)?r.showHidden=t:t&&function(e,t){if(!t||!u(t))return;var r=Object.keys(t),n=r.length;for(;n--;)e[r[n]]=t[r[n]]}(r,t),R(r.showHidden)&&(r.showHidden=!1),R(r.depth)&&(r.depth=2),R(r.colors)&&(r.colors=!1),R(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=n),y(r,e,r.depth)}function n(e,t){var r=O.styles[t];return r?"["+O.colors[r][0]+"m"+e+"["+O.colors[r][1]+"m":e}function i(e,t){return e}function y(t,r,n){if(t.customInspect&&r&&j(r.inspect)&&r.inspect!==O&&(!r.constructor||r.constructor.prototype!==r)){var e=r.inspect(n,t);return E(e)||(e=y(t,e,n)),e}var i=function(e,t){if(R(t))return e.stylize("undefined","undefined");if(E(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if("number"==typeof t)return e.stylize(""+t,"number");if(g(t))return e.stylize(""+t,"boolean");if(v(t))return e.stylize("null","null")}(t,r);if(i)return i;var o,l=Object.keys(r),a=(o={},l.forEach(function(e,t){o[e]=!0}),o);if(t.showHidden&&(l=Object.getOwnPropertyNames(r)),w(r)&&(0<=l.indexOf("message")||0<=l.indexOf("description")))return A(r);if(0===l.length){if(j(r)){var u=r.name?": "+r.name:"";return t.stylize("[Function"+u+"]","special")}if(h(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(N(r))return t.stylize(Date.prototype.toString.call(r),"date");if(w(r))return A(r)}var c,p,s="",f=!1,b=["{","}"];return c=r,Array.isArray(c)&&(f=!0,b=["[","]"]),j(r)&&(s=" [Function"+(r.name?": "+r.name:"")+"]"),h(r)&&(s=" "+RegExp.prototype.toString.call(r)),N(r)&&(s=" "+Date.prototype.toUTCString.call(r)),w(r)&&(s=" "+A(r)),0!==l.length||f&&0!=r.length?n<0?h(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),p=f?function(t,r,n,i,e){for(var o=[],l=0,a=r.length;l<a;++l)m(r,String(l))?o.push(d(t,r,n,i,String(l),!0)):o.push("");return e.forEach(function(e){e.match(/^\d+$/)||o.push(d(t,r,n,i,e,!0))}),o}(t,r,n,a,l):l.map(function(e){return d(t,r,n,a,e,f)}),t.seen.pop(),function(e,t,r){if(60<e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0))return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(p,s,b)):b[0]+s+b[1]}function A(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,i,o){var l,a,u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]};if(u.get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),m(n,i)||(l="["+i+"]"),a||(e.seen.indexOf(u.value)<0?-1<(a=v(r)?y(e,u.value,null):y(e,u.value,r-1)).indexOf("\n")&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),R(l)){if(o&&i.match(/^\d+$/))return a;l=(l=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(l=l.substr(1,l.length-2),e.stylize(l,"name")):(l=l.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),e.stylize(l,"string"))}return l+": "+a}function g(e){return"boolean"==typeof e}function v(e){return null===e}function E(e){return"string"==typeof e}function R(e){return void 0===e}function h(e){return u(e)&&"[object RegExp]"===t(e)}function u(e){return"object"==typeof e&&null!==e}function N(e){return u(e)&&"[object Date]"===t(e)}function w(e){return u(e)&&("[object Error]"===t(e)||e instanceof Error)}function j(e){return"function"==typeof e}function t(e){return Object.prototype.toString.call(e)}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}O.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},O.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var f={};Object.defineProperty(f,"ABBREVIATION_SUFFIX",{value:">",writable:!1}),Object.defineProperty(f,"OFF",{value:{},writable:!1}),Object.defineProperty(f.OFF,"ORDINAL",{value:0,writable:!1}),Object.defineProperty(f.OFF,"NAME",{value:"OFF",writable:!1}),Object.defineProperty(f.OFF,"ABBREVIATION",{value:f.OFF.NAME.charAt(0),writable:!1}),Object.defineProperty(f,"FATAL",{value:{},writable:!1}),Object.defineProperty(f.FATAL,"ORDINAL",{value:100,writable:!1}),Object.defineProperty(f.FATAL,"NAME",{value:"FATAL",writable:!1}),Object.defineProperty(f.FATAL,"ABBREVIATION",{value:f.FATAL.NAME.charAt(0),writable:!1}),Object.defineProperty(f,"ERROR",{value:{},writable:!1}),Object.defineProperty(f.ERROR,"ORDINAL",{value:200,writable:!1}),Object.defineProperty(f.ERROR,"NAME",{value:"ERROR",writable:!1}),Object.defineProperty(f.ERROR,"ABBREVIATION",{value:f.ERROR.NAME.charAt(0),writable:!1}),Object.defineProperty(f,"WARN",{value:{},writable:!1}),Object.defineProperty(f.WARN,"ORDINAL",{value:300,writable:!1}),Object.defineProperty(f.WARN,"NAME",{value:"WARN",writable:!1}),Object.defineProperty(f.WARN,"ABBREVIATION",{value:f.WARN.NAME.charAt(0),writable:!1}),Object.defineProperty(f,"INFO",{value:{},writable:!1}),Object.defineProperty(f.INFO,"ORDINAL",{value:400,writable:!1}),Object.defineProperty(f.INFO,"NAME",{value:"INFO",writable:!1}),Object.defineProperty(f.INFO,"ABBREVIATION",{value:f.INFO.NAME.charAt(0),writable:!1}),Object.defineProperty(f,"DEBUG",{value:{},writable:!1}),Object.defineProperty(f.DEBUG,"ORDINAL",{value:500,writable:!1}),Object.defineProperty(f.DEBUG,"NAME",{value:"DEBUG",writable:!1}),Object.defineProperty(f.DEBUG,"ABBREVIATION",{value:f.DEBUG.NAME.charAt(0),writable:!1}),Object.defineProperty(f,"TRACE",{value:{},writable:!1}),Object.defineProperty(f.TRACE,"ORDINAL",{value:600,writable:!1}),Object.defineProperty(f.TRACE,"NAME",{value:"TRACE",writable:!1}),Object.defineProperty(f.TRACE,"ABBREVIATION",{value:f.TRACE.NAME.charAt(0),writable:!1}),Object.defineProperty(f,"ALL",{value:{},writable:!1}),Object.defineProperty(f.ALL,"ORDINAL",{value:700,writable:!1}),Object.defineProperty(f.ALL,"NAME",{value:"ALL",writable:!1}),Object.defineProperty(f.ALL,"ABBREVIATION",{value:f.ALL.NAME.charAt(0),writable:!1}),Object.defineProperty(f,"ALL_LEVELS_ARRAY",{value:[f.OFF,f.FATAL,f.ERROR,f.WARN,f.INFO,f.DEBUG,f.TRACE,f.ALL],writable:!1});var b=function(e,t,r,n,i,o,l){var a,u="object"==typeof e?e:{name:e,level:t,skipPrefix:r,skipTimestamp:n,skipName:i,useLevelAbbreviation:o,dateFormatter:l};u.level||(u.level=f.INFO),u.dateFormatter||(a="numeric",u.dateFormatter=b.ENV_NAVIGATOR?new Intl.DateTimeFormat(navigator.language+"-u-ca-iso8601",{year:a,month:a,day:a,hour:a,minute:a,second:a,hour12:!1}):void 0),this.getName=function(){return u.name},this.getLevel=function(){return u.level},this.isSkippingPrefix=function(){return u.skipPrefix},this.isSkippingTimestamp=function(){return u.skipTimestamp},this.isSkippingName=function(){return u.skipName},this.isUsingLevelAbbreviation=function(){return u.useLevelAbbreviation},this.getDateTimeFormatter=function(){return u.dateFormatter},this.log=function(e){(b.ENV_NAVIGATOR?window:global).console.log(e)},this.isDebugEnabled=function(){return u.level.ORDINAL>=f.DEBUG.ORDINAL},this.isInfoEnabled=function(){return u.level.ORDINAL>=f.INFO.ORDINAL},this.isWarnEnabled=function(){return u.level.ORDINAL>=f.WARN.ORDINAL},this.isErrorEnabled=function(){return u.level.ORDINAL>=f.ERROR.ORDINAL},this.isFatalEnabled=function(){return u.level.ORDINAL>=f.FATAL.ORDINAL},this.isTraceEnabled=function(){return u.level.ORDINAL>=f.TRACE.ORDINAL},this.isAllEnabled=function(){return u.level.ORDINAL>=f.ALL.ORDINAL},this.group=function(e){e?console.group(e):console.group()},this.groupEnd=function(){console.groupEnd()},this.functionForLevel=function(e){var t;return e==f.FATAL||e==f.ERROR?t=console.error:e==f.WARN?t=console.warn:e==f.INFO?t=console.info:e==f.DEBUG||e==f.ALL?t=console.debug:e==f.TRACE&&(t=console.trace),t=t||console.log}};Object.defineProperty(b,"ENV_NAVIGATOR",{value:"object"==typeof navigator,writable:!1}),Object.defineProperty(b,"ENV_NODE",{value:!b.ENV_NAVIGATOR&&!0,writable:!1}),Object.defineProperty(b,"ENV_TEST",{value:!b.ENV_NAVIGATOR&&"object"==typeof process&&"object"==typeof process.env&&"test"==process.env.npm_lifecycle_event,writable:!1}),Object.defineProperty(b.prototype,"logl",{value:function(e,t){var r,n,i,o,l=this.getLevel()==f.OFF;if(!l){!this.isSkippingPrefix()&&this.isUsingLevelAbbreviation()&&(r=e.ABBREVIATION+f.ABBREVIATION_SUFFIX),this.isSkippingPrefix()||this.isSkippingName()||(r=r?r+" "+this.getName():this.getName()),this.isSkippingPrefix()||this.isSkippingTimestamp()||(n=new Date,r?(r+=" ",this.isSkippingName()||(r+="(",i=!0)):r="",r+=(o=this.getDateTimeFormatter())?o.format(n):n.toLocaleDateString()+", "+n.toLocaleTimeString(),i&&(r+=")")),r?(this.isSkippingName()&&this.isSkippingTimestamp()||(r+=":"),r+=" "+t):r=t;var a,u=this.functionForLevel(e);if(2<arguments.length){for(var c=new Array(arguments.length-1),p=1;p<c.length;p++)c[p]=arguments[p+1];c[0]=r,b.ENV_NODE?u(a=s.apply(null,c)):u.apply(console,c)}else u(r)}if(b.ENV_TEST){if(l)return f.OFF;if(2<arguments.length)return a}},writable:!1}),Object.defineProperty(b,"prepareArguments",{value:function(e,t){var r=null!=t&&t.length?t.length:0,n=new Array(r+1);n[0]=e;for(var i=0;i<r;i++)n[i+1]=t[i];return n},writable:!1}),Object.defineProperty(b.prototype,"fatal",{value:function(e){return b.prototype.logl.apply(this,b.prepareArguments(f.FATAL,arguments))},writable:!1}),Object.defineProperty(b.prototype,"error",{value:function(e){return b.prototype.logl.apply(this,b.prepareArguments(f.ERROR,arguments))},writable:!1}),Object.defineProperty(b.prototype,"warn",{value:function(e){return b.prototype.logl.apply(this,b.prepareArguments(f.WARN,arguments))},writable:!1}),Object.defineProperty(b.prototype,"info",{value:function(e){return b.prototype.logl.apply(this,b.prepareArguments(f.INFO,arguments))},writable:!1}),Object.defineProperty(b.prototype,"debug",{value:function(e){return b.prototype.logl.apply(this,b.prepareArguments(f.DEBUG,arguments))},writable:!1}),Object.defineProperty(b.prototype,"all",{value:function(e){return b.prototype.logl.apply(this,b.prepareArguments(f.ALL,arguments))},writable:!1}),Object.defineProperty(b.prototype,"trace",{value:function(e){return b.prototype.logl.apply(this,b.prepareArguments(f.TRACE,arguments))},writable:!1});var c=function(e,t,r,n,i,o,l){b.call(this,e,t,r,n,i,o,l),this.decorateErrorOutput=function(e){e?c.PROCESS_STDOUT_WRITABLE&&c.cursor.red():c.PROCESS_STDOUT_WRITABLE&&c.cursor.reset()}};Object.defineProperty(c,"PROCESS_STDOUT_WRITABLE",{value:"object"==typeof process&&"object"==typeof process.stdout&&"function"==typeof process.stdout.write,writable:!1}),Object.defineProperty(c,"escSequence",{value:function(e){return function(){return process.stdout.write(""+e),this}},writable:!1}),Object.defineProperty(c,"cursor",{value:{},enumerable:!1,configurable:!1,writable:!1}),Object.defineProperty(c.cursor,"write",{value:function(e){return process.stdout.write(e),this},writable:!1}),Object.defineProperty(c.cursor,"green",{value:c.escSequence("[0;32m"),writable:!1}),Object.defineProperty(c.cursor,"red",{value:c.escSequence("[0;31m"),writable:!1}),Object.defineProperty(c.cursor,"cyan",{value:c.escSequence("[0;36m"),writable:!1}),Object.defineProperty(c.cursor,"darkblue",{value:c.escSequence("[0;38;5;25m"),writable:!1}),Object.defineProperty(c.cursor,"reset",{value:c.escSequence("[0m"),writable:!1}),c.prototype=Object.create(b.prototype,{logger:{value:new b("Logger4Node",!0),writable:!1},fatal:{value:function(e){this.decorateErrorOutput(!0);var t=b.prototype.fatal.apply(this,arguments);return this.decorateErrorOutput(!1),t},writable:!1},error:{value:function(e){this.decorateErrorOutput(!0);var t=b.prototype.error.apply(this,arguments);return this.decorateErrorOutput(!1),t},writable:!1},warn:{value:function(e){c.PROCESS_STDOUT_WRITABLE&&c.cursor.cyan();var t=b.prototype.warn.apply(this,arguments);return c.PROCESS_STDOUT_WRITABLE&&c.cursor.reset(),t},writable:!1},info:{value:function(e){c.PROCESS_STDOUT_WRITABLE&&c.cursor.darkblue();var t=b.prototype.info.apply(this,arguments);return c.PROCESS_STDOUT_WRITABLE&&c.cursor.reset(),t},writable:!1}}),e.Level=f,e.Logger=b,e.Logger4Node=c,Object.defineProperty(e,"__esModule",{value:!0})});
